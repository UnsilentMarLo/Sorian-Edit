--***************************************************************************
--*
--**  File     :  /lua/ai/SorianAirAttackBuilders.lua
--**
--**  Summary  : Default economic builders for skirmish
--**
--**  Copyright Â© 2005 Gas Powered Games, Inc.  All rights reserved.
--****************************************************************************

local BBTmplFile = '/lua/basetemplates.lua'
										   
local BuildingTmpl = 'BuildingTemplates'
local BaseTmpl = 'BaseTemplates'
local ExBaseTmpl = 'ExpansionBaseTemplates'
local Adj2x2Tmpl = 'Adjacency2x2'
local UCBC = '/lua/editor/UnitCountBuildConditions.lua'
local MIBC = '/lua/editor/MiscBuildConditions.lua'
local MABC = '/lua/editor/MarkerBuildConditions.lua'
local IBC = '/lua/editor/InstantBuildConditions.lua'
local OAUBC = '/lua/editor/OtherArmyUnitCountBuildConditions.lua'
local EBC = '/lua/editor/EconomyBuildConditions.lua'
local TBC = '/lua/editor/ThreatBuildConditions.lua'
local PCBC = '/lua/editor/PlatoonCountBuildConditions.lua'
local SAI = '/lua/ScenarioPlatoonAI.lua'
local PlatoonFile = '/lua/platoon.lua'
local SBC = '/lua/editor/SorianBuildConditions.lua'
local SIBC = '/lua/editor/SorianInstantBuildConditions.lua'

local SUtils = import('/mods/Sorian Edit/lua/AI/SorianEditutilities.lua')

function AirAttackCondition(aiBrain, locationType, targetNumber)
    local UC = import('/lua/editor/UnitCountBuildConditions.lua')
    local pool = aiBrain:GetPlatoonUniquelyNamed('ArmyPool')
    local engineerManager = aiBrain.BuilderManagers[locationType].EngineerManager
    if not engineerManager then
        return true
    end
    if aiBrain:GetCurrentEnemy() then
        local estartX, estartZ = aiBrain:GetCurrentEnemy():GetArmyStartPos()
        targetNumber = aiBrain:GetThreatAtPosition({estartX, 0, estartZ}, 1, true, 'AntiAir')
    end

    local position = engineerManager:GetLocationCoords()
    local radius = engineerManager.Radius

    --local surfaceThreat = pool:GetPlatoonThreat('AntiSurface', categories.MOBILE * categories.AIR - categories.EXPERIMENTAL - categories.SCOUT - categories.INTELLIGENCE, position, radius)
    local surfaceThreat = pool:GetPlatoonThreat('AntiSurface', categories.MOBILE * categories.AIR - categories.EXPERIMENTAL - categories.SCOUT - categories.INTELLIGENCE)
    local airThreat = 0 --pool:GetPlatoonThreat('AntiAir', categories.MOBILE * categories.AIR - categories.EXPERIMENTAL - categories.SCOUT - categories.INTELLIGENCE, position, radius)
    if (surfaceThreat + airThreat) >= targetNumber then
        return true
    elseif UC.UnitCapCheckGreater(aiBrain, .95) then
        return true
    elseif SUtils.ThreatBugcheck(aiBrain) then -- added to combat buggy inflated threat
        return true
    elseif UC.PoolGreaterAtLocation(aiBrain, locationType, 0, categories.MOBILE * categories.AIR * categories.TECH3 * (categories.GROUNDATTACK + categories.BOMBER)) and surfaceThreat > 120 then --8 Units x 15
        return true
    elseif UC.PoolGreaterAtLocation(aiBrain, locationType, 0, categories.MOBILE * categories.AIR * categories.TECH2 * (categories.GROUNDATTACK + categories.BOMBER))
    and UC.PoolLessAtLocation(aiBrain, locationType, 1, categories.MOBILE * categories.AIR * categories.TECH3 * (categories.GROUNDATTACK + categories.BOMBER)) and surfaceThreat > 25 then --5 Units x 5
        return true
    elseif UC.PoolLessAtLocation(aiBrain, locationType, 1, categories.MOBILE * categories.AIR * (categories.GROUNDATTACK + categories.BOMBER) - categories.TECH1) and surfaceThreat > 6 then --3 Units x 2
        return true
    end
    return false
end

BuilderGroup {
    BuilderGroupName = 'SorianEditT1AirFactoryBuilders',
    BuildersType = 'FactoryBuilder',
    Builder {
	BuilderName = 'SorianEditT1 Air Bomber Land spam reaction',
        PlatoonTemplate = 'T1AirBomber',
        Priority = 1300,
        BuilderConditions = {
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'HaveGreaterThanUnitsWithCategory', { 15, categories.AIR * categories.ANTIAIR} },
            { EBC, 'GreaterThanEconIncome', { 0.2, 2 } },
            { SBC, 'HaveRatioUnitsWithCategoryAndAlliance', { true, 30, categories.LAND * categories.MOBILE, 'Enemy'}},
        },
        BuilderType = 'Air',
    },
    Builder {
	BuilderName = 'SorianEditT1 Air Bomber Land spam reaction 2',
        PlatoonTemplate = 'T1AirBomber',
        Priority = 1300,
		InstanceCount = 2,
        BuilderConditions = {
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'HaveGreaterThanUnitsWithCategory', { 25, categories.AIR * categories.ANTIAIR} },
            { EBC, 'GreaterThanEconIncome', { 0.2, 2 } },
            { SBC, 'HaveRatioUnitsWithCategoryAndAlliance', { true, 60, categories.LAND * categories.MOBILE, 'Enemy'}},
        },
        BuilderType = 'Air',
    },
    Builder { 
	BuilderName = 'SorianEditT1 Air Bomber Extractor reaction',
        PlatoonTemplate = 'T1AirBomber',
        Priority = 500,
        BuilderConditions = {
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'HaveGreaterThanUnitsWithCategory', { 15, categories.AIR * categories.ANTIAIR} },
            { EBC, 'GreaterThanEconIncome', { 0.2, 2 } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT1 Air Bomber',
        PlatoonTemplate = 'T1AirBomber',
        Priority = 1200,
        BuilderType = 'Air',
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'HaveGreaterThanUnitsWithCategory', { 10, categories.AIR * categories.ANTIAIR} },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 20, 'BOMBER TECH1' }},
        },
    },
    Builder {
        BuilderName = 'SorianEditT1 Air Bomber4',
        PlatoonTemplate = 'T1AirBomber',
        Priority = 900,
		InstanceCount = 2,
        BuilderType = 'Air',
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'HaveGreaterThanUnitsWithCategory', { 10, categories.AIR * categories.ANTIAIR} },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 40, 'BOMBER TECH1' }},
        },
    },
    Builder {
        BuilderName = 'SorianEditT1 Air Bomber - Stomp Enemy',
        PlatoonTemplate = 'T1AirBomber',
        Priority = 800,
        BuilderType = 'Air',
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
        },
    },
    Builder {
        BuilderName = 'SorianEditT1Gunship',
        PlatoonTemplate = 'T1Gunship',
        Priority = 1100,
        BuilderType = 'Air',
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'HaveGreaterThanUnitsWithCategory', { 20, categories.AIR * categories.ANTIAIR} },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 20, 'GROUNDATTACK TECH1' }},
        },
    },
    Builder {
        BuilderName = 'SorianEditT1 Air Fighter init',
        PlatoonTemplate = 'T1AirFighter',
        Priority = 1300,
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 20, categories.AIR * categories.ANTIAIR * categories.TECH1 } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT1 Air Fighter',
        PlatoonTemplate = 'T1AirFighter',
        Priority = 1100,
		InstanceCount = 2,
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 30, categories.AIR * categories.ANTIAIR * categories.TECH1 } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT1 Air Fighter2',
        PlatoonTemplate = 'T1AirFighter',
        Priority = 1100,
		InstanceCount = 2,
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 60, categories.AIR * categories.ANTIAIR * categories.TECH1 } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT1 Air Bomber 2',
        PlatoonTemplate = 'T1AirBomber',
        Priority = 700,
		InstanceCount = 2,
        BuilderType = 'Air',
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
        },
    },
    Builder {
        BuilderName = 'SorianEditT1Gunship2',
        PlatoonTemplate = 'T1Gunship',
        Priority = 700,
		InstanceCount = 2,
        BuilderType = 'Air',
        BuilderConditions = {
            { IBC, 'BrainNotLowPowerMode', {} },
            { UCBC, 'HaveGreaterThanUnitsWithCategory', { 10, categories.AIR * categories.ANTIAIR * categories.TECH1 } },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
        },
    },
}

BuilderGroup {
    BuilderGroupName = 'SorianEditT1AntiAirBuilders',
    BuildersType = 'FactoryBuilder',
    Builder {
        BuilderName = 'SorianEditT1 Interceptors',
        PlatoonTemplate = 'T1AirFighter',
        Priority = 900,
		InstanceCount = 2,
        BuilderConditions = {
            { UCBC, 'HaveLessThanUnitsWithCategory', { 30, categories.AIR * categories.ANTIAIR * categories.TECH1 } },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT1 Interceptors - Enemy Air',
        PlatoonTemplate = 'T1AirFighter',
        Priority = 1200,
		InstanceCount = 3,
        BuilderConditions = {
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 3, categories.ANTIAIR * categories.AIR - categories.BOMBER } },
            { SBC, 'HaveRatioUnitsWithCategoryAndAlliance', { true, 2, categories.AIR * categories.TECH1, categories.MOBILE * categories.AIR - categories.SCOUT, 'Enemy'}},
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'FactoryLessAtLocation', { 'LocationType', 2, 'FACTORY TECH2' }},
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT1 Interceptors - Enemy Air Extra',
        PlatoonTemplate = 'T1AirFighter',
        Priority = 700, --560,
        BuilderConditions = {
            { UCBC, 'HaveLessThanUnitsWithCategory', { 30, categories.AIR * categories.ANTIAIR * categories.TECH1 } },
            { UCBC, 'HaveUnitsWithCategoryAndAlliance', { true, 14, categories.MOBILE * categories.AIR - categories.SCOUT, 'Enemy'}},
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, categories.ANTIAIR * categories.AIR - categories.BOMBER } },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT1 Interceptors - Enemy Air Extra 2',
        PlatoonTemplate = 'T1AirFighter',
        Priority = 560,
        BuilderConditions = {
            { UCBC, 'HaveLessThanUnitsWithCategory', { 40, categories.AIR * categories.ANTIAIR * categories.TECH1 } },
            { UCBC, 'HaveUnitsWithCategoryAndAlliance', { true, 19, categories.MOBILE * categories.AIR - categories.SCOUT, 'Enemy'}},
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 3, categories.ANTIAIR * categories.AIR - categories.BOMBER } },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
        },
        BuilderType = 'Air',
    },
}

BuilderGroup {
    BuilderGroupName = 'SorianEditT2AirFactoryBuilders',
    BuildersType = 'FactoryBuilder',
    Builder {
        BuilderName = 'SorianEditT2FighterBomber init2',
        PlatoonTemplate = 'T2FighterBomber',
        Priority = 1500,
        BuilderType = 'Air',
        BuilderConditions = {
            { UCBC, 'HaveLessThanUnitsWithCategory', { 30, categories.AIR * categories.ANTIAIR * categories.TECH2 } },
            { IBC, 'BrainNotLowPowerMode', {} },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'FactoryLessAtLocation', { 'LocationType', 5, 'FACTORY TECH3' }},
        },
    },
    Builder {
        BuilderName = 'SorianEditT2 Air Gunship',
        PlatoonTemplate = 'T2AirGunship',
        Priority = 900,
        InstanceCount = 3,
        BuilderType = 'Air',
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'FactoryLessAtLocation', { 'LocationType', 5, 'FACTORY TECH3' }},
        },
    },
    Builder {
        BuilderName = 'SorianEditT2 Air Gunship - Anti Navy',
        PlatoonTemplate = 'T2AirGunship',
        Priority = 800,
		InstanceCount = 2,
        BuilderType = 'Air',
        BuilderConditions = {
            { IBC, 'BrainNotLowPowerMode', {} },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
            { UCBC, 'HaveUnitsWithCategoryAndAlliance', { true, 1, categories.STRUCTURE * categories.DEFENSE * categories.ANTINAVY, 'Enemy'}},
        },
    },
    Builder {
        BuilderName = 'SorianEditT2 Air Gunship - Stomp Enemy',
        PlatoonTemplate = 'T2FighterBomber',
        Priority = 900,
        BuilderType = 'Air',
        BuilderConditions = {
            { IBC, 'BrainNotLowPowerMode', {} },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'HaveUnitRatio', { 0.35, categories.AIR * categories.GROUNDATTACK * categories.MOBILE, '<=', categories.AIR * categories.ANTIAIR * categories.MOBILE}},
            { UCBC, 'FactoryLessAtLocation', { 'LocationType', 5, 'FACTORY TECH3' }},
        },
    },
    Builder {
        BuilderName = 'SorianEditT2FighterBomber',
        PlatoonTemplate = 'T2FighterBomber',
        Priority = 1300,
        BuilderType = 'Air',
        BuilderConditions = {
            { UCBC, 'HaveLessThanUnitsWithCategory', { 40, categories.AIR * categories.ANTIAIR * categories.TECH2 } },
            { IBC, 'BrainNotLowPowerMode', {} },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'FactoryLessAtLocation', { 'LocationType', 5, 'FACTORY TECH3' }},
        },
    },
    Builder {
        BuilderName = 'SorianEditT2FighterBomber Init',
        PlatoonTemplate = 'T2FighterBomber',
        Priority = 1400,
        BuilderType = 'Air',
        BuilderConditions = {
            { UCBC, 'HaveLessThanUnitsWithCategory', { 50, categories.AIR * categories.ANTIAIR * categories.TECH2 } },
            { IBC, 'BrainNotLowPowerMode', {} },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, 'FACTORY TECH2' }},
        },
    },
    Builder {
        BuilderName = 'SorianEditT1 Air Fighter - T2',
        PlatoonTemplate = 'T1AirFighter',
        Priority = 600,
        BuilderConditions = {
            { UCBC, 'UnitsLessAtLocation', { 'LocationType', 30, categories.AIR * categories.ANTIAIR } },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, categories.ANTIAIR * categories.AIR - categories.BOMBER } },
            { UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, categories.FACTORY * categories.AIR * categories.TECH2 } },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 4, 'FACTORY TECH3' }},
            { UCBC, 'FactoryLessAtLocation', { 'LocationType', 5, 'FACTORY TECH3' }},
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT2 Air Gunship2',
        PlatoonTemplate = 'T2AirGunship',
        Priority = 800,
        BuilderType = 'Air',
        BuilderConditions = {
            { IBC, 'BrainNotLowPowerMode', {} },
            { UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, categories.FACTORY * categories.AIR * categories.TECH2 } },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
        },
    },
    Builder {
        BuilderName = 'SorianEditT2FighterBomber2',
        PlatoonTemplate = 'T2FighterBomber',
        Priority = 900,
        InstanceCount = 3,
        BuilderType = 'Air',
        BuilderConditions = {
            { IBC, 'BrainNotLowPowerMode', {} },
            { UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, categories.FACTORY * categories.AIR * categories.TECH2 } },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
        },
    },
    Builder {
        BuilderName = 'SorianEditT2FighterBomber2 - Exp Response',
        PlatoonTemplate = 'T2FighterBomber',
        Priority = 1200,
        InstanceCount = 3,
        BuilderType = 'Air',
        BuilderConditions = {
            { IBC, 'BrainNotLowPowerMode', {} },
            { UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, categories.FACTORY * categories.AIR * categories.TECH2 } },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
            { SBC, 'T4ThreatExists', {{'Land', 'Naval', 'Structure'}, (categories.LAND + categories.NAVAL + categories.STRUCTURE + categories.ARTILLERY)}},
        },
    },
    Builder {
        BuilderName = 'SorianEditT2FighterBomber2 - Exp Response 2',
        PlatoonTemplate = 'T2FighterBomber',
        Priority = 1200,
        BuilderType = 'Air',
        BuilderConditions = {
            { IBC, 'BrainNotLowPowerMode', {} },
            { UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, categories.FACTORY * categories.AIR * categories.TECH2 } },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, categories.ANTIAIR * categories.AIR - categories.BOMBER } },
            { SBC, 'T4ThreatExists', {{'Air'}, categories.AIR}},
        },
    },
    Builder {
        BuilderName = 'SorianEditT2 Torpedo Bomber',
        PlatoonTemplate = 'T2AirTorpedoBomber',
        Priority = 1200,
        BuilderType = 'Air',
        BuilderConditions = {
            { IBC, 'BrainNotLowPowerMode', {} },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 20, categories.AIR * categories.ANTINAVY * categories.TECH2 } },
            { UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, categories.FACTORY * categories.AIR * categories.TECH2 } },
            { TBC, 'EnemyThreatGreaterThanValueAtBase', { 'LocationType', 0, 'Naval' } },
        },
    },
}

BuilderGroup {
    BuilderGroupName = 'SorianEditT2AntiAirBuilders',
    BuildersType = 'FactoryBuilder',
    Builder {
        BuilderName = 'SorianEditT2AntiAirPlanes Initial Higher Pri',
        PlatoonTemplate = 'T1AirFighter',
        Priority = 700,
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 4, 'FACTORY TECH3' }},
            { UCBC, 'FactoryLessAtLocation', { 'LocationType', 5, 'FACTORY TECH3' }},
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT2AntiAirPlanes - Enemy Air',
        PlatoonTemplate = 'T1AirFighter',
        Priority = 700,
        BuilderConditions = {
            { SBC, 'HaveRatioUnitsWithCategoryAndAlliance', { true, 2, categories.AIR * categories.ANTIAIR * categories.TECH1, categories.MOBILE * categories.AIR - categories.SCOUT, 'Enemy'}},
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
            { UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, categories.FACTORY * categories.AIR * categories.TECH2 } },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 4, 'FACTORY TECH3' }},
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT2AntiAirPlanes - Enemy Air Extra',
        PlatoonTemplate = 'T1AirFighter',
        Priority = 700, --660,
        BuilderConditions = {
            { UCBC, 'HaveUnitsWithCategoryAndAlliance', { true, 14, categories.MOBILE * categories.AIR - categories.SCOUT, 'Enemy'}},
            { UCBC, 'HaveLessThanUnitsWithCategory', { 30, categories.AIR * categories.ANTIAIR * categories.TECH1 } },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, categories.ANTIAIR * categories.AIR - categories.BOMBER } },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 4, 'FACTORY TECH3' }},
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT2AntiAirPlanes - Enemy Air Extra 2',
        PlatoonTemplate = 'T1AirFighter',
        Priority = 700, --660,
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
        },
        BuilderType = 'Air',
    },
}

BuilderGroup {
    BuilderGroupName = 'SorianEditT3AirFactoryBuilders',
    BuildersType = 'FactoryBuilder',
    Builder {
        BuilderName = 'SorianEditT3 Air Fighter init',
        PlatoonTemplate = 'T3AirFighter',
        Priority = 1800,
        InstanceCount = 1,
        BuilderConditions = {
            { UCBC, 'HaveLessThanUnitsWithCategory', { 40, categories.AIR * categories.ANTIAIR * categories.TECH3 } },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.8, 1.2 }},
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT3 Air Fighter spam',
        PlatoonTemplate = 'T3AirFighter',
        Priority = 1500,
        InstanceCount = 2,
        BuilderConditions = {
            { UCBC, 'HaveLessThanUnitsWithCategory', { 80, categories.AIR * categories.ANTIAIR * categories.TECH3 } },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.8, 1.2 }},
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT3 Air Gunship',
        PlatoonTemplate = 'T3AirGunship',
        Priority = 1400,
        InstanceCount = 2,
        BuilderType = 'Air',
        BuilderConditions = {
            { IBC, 'BrainNotLowPowerMode', {} },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.85, 1.05 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditT3 Air Gunship - Anti Navy',
        PlatoonTemplate = 'T3AirGunship',
        Priority = 1400,
        BuilderType = 'Air',
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
            { UCBC, 'HaveUnitsWithCategoryAndAlliance', { true, 1, categories.STRUCTURE * categories.DEFENSE * categories.ANTINAVY, 'Enemy'}},
        },
    },
    Builder {
        BuilderName = 'SorianEditT3 Air Bomber',
        PlatoonTemplate = 'T3AirBomber',
        Priority = 1700,
        InstanceCount = 2,
        BuilderType = 'Air',
        BuilderConditions = {
            { UCBC, 'HaveLessThanUnitsWithCategory', { 4, categories.AIR * categories.BOMBER * categories.TECH3 } },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.8, 1.2 }},
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
        },
    },
    Builder {
        BuilderName = 'SorianEditT3 Air Bomber - Exp Response',
        PlatoonTemplate = 'T3AirBomber',
        Priority = 1300,
        InstanceCount = 4,
        BuilderType = 'Air',
        BuilderConditions = {
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, categories.TECH3 * categories.AIR * categories.BOMBER } },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 50, categories.AIR * categories.BOMBER * categories.TECH3 } },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
            { SBC, 'T4ThreatExists', {{'Land', 'Naval', 'Structure'}, (categories.LAND + categories.NAVAL + categories.STRUCTURE + categories.ARTILLERY)}},
        },
    },
    Builder {
        BuilderName = 'SorianEditT3 Air Bomber - Stomp Enemy',
        PlatoonTemplate = 'T3AirBomber',
        Priority = 1400,
        BuilderType = 'Air',
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
            { UCBC, 'HaveUnitsWithCategoryAndAlliance', { false, 6, categories.MOBILE * categories.AIR - categories.SCOUT, 'Enemy'}},
            { SBC, 'LessThanThreatAtEnemyBase', { 'AntiAir', 54 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditT3 Air Gunship2',
        PlatoonTemplate = 'T3AirGunship',
        Priority = 1300,
        InstanceCount = 2,
        BuilderType = 'Air',
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
        },
    },
    Builder {
        BuilderName = 'SorianEditT3 Air Bomber2',
        PlatoonTemplate = 'T3AirBomber',
        Priority = 1300,
        BuilderType = 'Air',
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
        },
    },
    Builder {
        BuilderName = 'SorianEditT3 Air Fighter',
        PlatoonTemplate = 'T3AirFighter',
        Priority = 1500,
        InstanceCount = 4,
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.8, 1.2 }},
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT3 Torpedo Bomber',
        PlatoonTemplate = 'T3TorpedoBomber',
        Priority = 1300,
        BuilderType = 'Air',
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
            { TBC, 'EnemyThreatGreaterThanValueAtBase', { 'LocationType', 0, 'Naval' } },
        },
    }
}

BuilderGroup {
    BuilderGroupName = 'SorianEditT3AntiAirBuilders',
    BuildersType = 'FactoryBuilder',
    Builder {
        BuilderName = 'SorianEditT3AntiAirPlanes Initial',
        PlatoonTemplate = 'T3AirFighter',
        Priority = 1600,
        InstanceCount = 2,
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.8, 1.2 }},
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT3AntiAirPlanes - Enemy Air',
        PlatoonTemplate = 'T3AirFighter',
        Priority = 1000,
        BuilderConditions = {
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.8, 1.2 }},
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, categories.ANTIAIR * categories.AIR - categories.BOMBER } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT3AntiAirPlanes - Enemy Air Extra',
        PlatoonTemplate = 'T3AirFighter',
        Priority = 700, --760,
        BuilderConditions = {
            { IBC, 'BrainNotLowPowerMode', {} },
											   
            { UCBC, 'HaveUnitsWithCategoryAndAlliance', { true, 14, categories.MOBILE * categories.AIR - categories.SCOUT, 'Enemy'}},
            --{ SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.85, 1.05 }},
            { UCBC, 'HaveLessThanUnitsWithCategory', { 30, categories.AIR * categories.ANTIAIR * categories.TECH3 } },
            --{ MIBC, 'GreaterThanGameTime', { 2000 } },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.8, 1.2 }},
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, categories.ANTIAIR * categories.AIR - categories.BOMBER } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT3AntiAirPlanes - Enemy Air Extra 2',
        PlatoonTemplate = 'T3AirFighter',
        Priority = 700, --760,
        BuilderConditions = {

											   
            { UCBC, 'HaveUnitsWithCategoryAndAlliance', { true, 19, categories.MOBILE * categories.AIR - categories.SCOUT, 'Enemy'}},
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.8, 1.2 }},
            { UCBC, 'HaveLessThanUnitsWithCategory', { 40, categories.AIR * categories.ANTIAIR * categories.TECH3 } },
            --{ MIBC, 'GreaterThanGameTime', { 2000 } },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 3, categories.ANTIAIR * categories.AIR - categories.BOMBER } },
            { UCBC, 'UnitCapCheckLess', { .9 } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT3AntiAirPlanes - Exp Response',
        PlatoonTemplate = 'T3AirFighter',
        Priority = 1000,
        BuilderConditions = {
																								  
																																						 
            { SBC, 'T4ThreatExists', {{'Air'}, categories.AIR}},
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.8, 1.2 }},
            { UCBC, 'HaveLessThanUnitsWithCategory', { 60, categories.AIR * categories.ANTIAIR * categories.TECH3 } },
            --{ MIBC, 'GreaterThanGameTime', { 2000 } },
																		  
            { UCBC, 'UnitCapCheckLess', { .9 } },
        },
        BuilderType = 'Air',
    },
}

BuilderGroup {
    BuilderGroupName = 'SorianEditTransportFactoryBuilders - Rush',
    BuildersType = 'FactoryBuilder',
    Builder {
        BuilderName = 'SorianEditT1 Air Transport - Rush',
        PlatoonTemplate = 'T1AirTransport',
        Priority = 600,
        BuilderConditions = {
            --{ MIBC, 'ArmyNeedsTransports', {} },
            --{ SBC, 'IsWaterMap', { true } },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            { UCBC, 'HaveGreaterThanUnitsWithCategory', { 0, categories.MOBILE * categories.AIR * categories.ANTIAIR } },
																																					
            { UCBC, 'HaveLessThanUnitsWithCategory', { 3, 'TRANSPORTFOCUS' } },
            { UCBC, 'HaveLessThanUnitsInCategoryBeingBuilt', { 2, 'TRANSPORTFOCUS' } },
            { IBC, 'BrainNotLowPowerMode', {} },
            { UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, categories.FACTORY * categories.AIR * categories.TECH1 } },
																											  
																							  
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.6, 1.05 }},
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT2 Air Transport - Rush',
        PlatoonTemplate = 'T2AirTransport',
        Priority = 700,
		InstanceCount = 2,
        BuilderConditions = {
            --{ MIBC, 'ArmyNeedsTransports', {} },
            --{ SBC, 'IsWaterMap', { true } },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            { UCBC, 'HaveGreaterThanUnitsWithCategory', { 0, categories.MOBILE * categories.AIR * categories.ANTIAIR} },
																																									   
            { UCBC, 'HaveLessThanUnitsWithCategory', { 5, 'TRANSPORTFOCUS TECH2, TRANSPORTFOCUS TECH3' } },
            { UCBC, 'HaveLessThanUnitsInCategoryBeingBuilt', { 2, 'TRANSPORTFOCUS' } },
												
            { UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, categories.FACTORY * categories.AIR * categories.TECH2 } },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT3 Air Transport - Rush',
        PlatoonTemplate = 'T3AirTransport',
        Priority = 900,
        BuilderConditions = {
            --{ MIBC, 'ArmyNeedsTransports', {} },
            --{ SBC, 'IsWaterMap', { true } },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            { UCBC, 'HaveGreaterThanUnitsWithCategory', { 0, categories.MOBILE * categories.AIR * categories.ANTIAIR * categories.TECH3} },
																																									   
            { UCBC, 'HaveLessThanUnitsWithCategory', { 4, 'TRANSPORTFOCUS TECH2, TRANSPORTFOCUS TECH3' } },
            { UCBC, 'HaveLessThanUnitsInCategoryBeingBuilt', { 2, 'TRANSPORTFOCUS' } },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
            --{ MIBC, 'GreaterThanGameTime', { 2000 } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT1 Air Transport Default - Rush',
        PlatoonTemplate = 'T1AirTransport',
        Priority = 600,
        BuilderConditions = {
            { UCBC, 'UnitsLessAtLocation', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            --{ MIBC, 'ArmyNeedsTransports', {} },
            ----{ SBC, 'IsWaterMap', { true } },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            { IBC, 'BrainNotLowPowerMode', {} },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT2 Air Transport Default - Rush',
        PlatoonTemplate = 'T2AirTransport',
        Priority = 700,
		InstanceCount = 2,
        BuilderConditions = {
            { UCBC, 'UnitsLessAtLocation', { 'LocationType', 1, 'TRANSPORTFOCUS TECH2, TRANSPORTFOCUS TECH3' } },
            --{ MIBC, 'ArmyNeedsTransports', {} },
            ----{ SBC, 'IsWaterMap', { true } },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            { IBC, 'BrainNotLowPowerMode', {} },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT3 Air Transport Default - Rush',
        PlatoonTemplate = 'T3AirTransport',
        Priority = 800,
        BuilderConditions = {
            { UCBC, 'UnitsLessAtLocation', { 'LocationType', 1, 'TRANSPORTFOCUS TECH2, TRANSPORTFOCUS TECH3' } },
            --{ MIBC, 'ArmyNeedsTransports', {} },
            ----{ SBC, 'IsWaterMap', { true } },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            { IBC, 'BrainNotLowPowerMode', {} },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
        },
        BuilderType = 'Air',
    },
}

BuilderGroup {
    BuilderGroupName = 'SorianEditTransportFactoryBuilders - Air',
    BuildersType = 'FactoryBuilder',
    Builder {
        BuilderName = 'SorianEditT1 Air Transport - Air',
        PlatoonTemplate = 'T1AirTransport',
        Priority = 700,
        BuilderConditions = {
            --{ MIBC, 'ArmyNeedsTransports', {} },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            { UCBC, 'HaveGreaterThanUnitsWithCategory', { 0, categories.MOBILE * categories.AIR * categories.ANTIAIR } },
																																					
            { UCBC, 'HaveLessThanUnitsWithCategory', { 3, 'TRANSPORTFOCUS' } },
            { UCBC, 'HaveLessThanUnitsInCategoryBeingBuilt', { 2, 'TRANSPORTFOCUS' } },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
            { UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, categories.FACTORY * categories.AIR * categories.TECH1 } },
																											  
																							  
																		
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT2 Air Transport - Air',
        PlatoonTemplate = 'T2AirTransport',
        Priority = 700,
        BuilderConditions = {
            --{ MIBC, 'ArmyNeedsTransports', {} },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            { UCBC, 'HaveGreaterThanUnitsWithCategory', { 0, categories.MOBILE * categories.AIR * categories.ANTIAIR} },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 4, 'TRANSPORTFOCUS TECH2, TRANSPORTFOCUS TECH3' } },
            { UCBC, 'HaveLessThanUnitsInCategoryBeingBuilt', { 2, 'TRANSPORTFOCUS' } },
            { IBC, 'BrainNotLowPowerMode', {} },
            --{ EBC, 'GreaterThanEconTrend', { 0.0, 0.0 } },
            { UCBC, 'UnitCapCheckLess', { 0.95 } },
            { EBC, 'GreaterThanEconIncome', { 2, 20 } },
            { UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, categories.FACTORY * categories.AIR * categories.TECH2 } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT3 Air Transport - Air',
        PlatoonTemplate = 'T3AirTransport',
        Priority = 700,
        BuilderConditions = {
            --{ MIBC, 'ArmyNeedsTransports', {} },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            { UCBC, 'HaveGreaterThanUnitsWithCategory', { 0, categories.MOBILE * categories.AIR * categories.ANTIAIR * categories.TECH3} },
            --{ UCBC, 'HaveGreaterThanUnitsWithCategory', { 0, categories.MOBILE * categories.AIR * categories.TECH3 * (categories.BOMBER + categories.GROUNDATTACK)} },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 4, 'TRANSPORTFOCUS TECH2, TRANSPORTFOCUS TECH3' } },
            { UCBC, 'HaveLessThanUnitsInCategoryBeingBuilt', { 2, 'TRANSPORTFOCUS' } },
            { IBC, 'BrainNotLowPowerMode', {} },
            --{ MIBC, 'GreaterThanGameTime', { 2000 } },
            --{ UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 1, categories.FACTORY * categories.AIR } },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.6, 1.05 }},
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT1 Air Transport Default - Air - init',
        PlatoonTemplate = 'T1AirTransport',
        Priority = 700,
        BuilderConditions = {
            { UCBC, 'UnitsLessAtLocation', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            ----{ MIBC, 'ArmyNeedsTransports', {} },
            { SBC, 'LessThanGameTime', { 600 } },
            --{ UCBC, 'HaveGreaterThanUnitsWithCategory', { 0, categories.SCOUT}},
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            --{ IBC, 'BrainNotLowPowerMode', {} },
            --{ SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.6, 1.05 }},
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT1 Air Transport Default - Air',
        PlatoonTemplate = 'T1AirTransport',
        Priority = 700,
        BuilderConditions = {
            { UCBC, 'UnitsLessAtLocation', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            --{ MIBC, 'ArmyNeedsTransports', {} },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            { IBC, 'BrainNotLowPowerMode', {} },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.6, 1.05 }},
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT2 Air Transport Default - Air',
        PlatoonTemplate = 'T2AirTransport',
        Priority = 700,
        BuilderConditions = {
            { UCBC, 'UnitsLessAtLocation', { 'LocationType', 1, 'TRANSPORTFOCUS TECH2, TRANSPORTFOCUS TECH3' } },
            --{ MIBC, 'ArmyNeedsTransports', {} },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            { IBC, 'BrainNotLowPowerMode', {} },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.6, 1.05 }},
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT3 Air Transport Default - Air',
        PlatoonTemplate = 'T3AirTransport',
        Priority = 700,
		InstanceCount = 2,
        BuilderConditions = {
            { UCBC, 'UnitsLessAtLocation', { 'LocationType', 1, 'TRANSPORTFOCUS TECH2, TRANSPORTFOCUS TECH3' } },
            --{ MIBC, 'ArmyNeedsTransports', {} },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            { IBC, 'BrainNotLowPowerMode', {} },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.6, 1.05 }},
        },
        BuilderType = 'Air',
    },
}

BuilderGroup {
    BuilderGroupName = 'SorianEditTransportFactoryBuilders',
    BuildersType = 'FactoryBuilder',
    Builder {
        BuilderName = 'SorianEditT1 Air Transport',
        PlatoonTemplate = 'T1AirTransport',
        Priority = 1400,
        BuilderConditions = {
            --{ MIBC, 'ArmyNeedsTransports', {} },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            { UCBC, 'HaveGreaterThanUnitsWithCategory', { 0, categories.MOBILE * categories.AIR * categories.ANTIAIR } },
            --{ UCBC, 'HaveGreaterThanUnitsWithCategory', { 0, categories.MOBILE * categories.AIR * (categories.BOMBER + categories.GROUNDATTACK)} },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 6, 'TRANSPORTFOCUS' } },
            { UCBC, 'HaveLessThanUnitsInCategoryBeingBuilt', { 2, 'TRANSPORTFOCUS' } },
            { IBC, 'BrainNotLowPowerMode', {} },
            { UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, categories.FACTORY * categories.AIR * categories.TECH1 } },
            --{ UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 1, categories.FACTORY * categories.AIR } },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 1, 'FACTORY TECH2, FACTORY TECH3' } },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.6, 1.05 }},
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT2 Air Transport',
        PlatoonTemplate = 'T2AirTransport',
        Priority = 1900,
        BuilderConditions = {
            --{ MIBC, 'ArmyNeedsTransports', {} },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            { UCBC, 'HaveGreaterThanUnitsWithCategory', { 0, categories.MOBILE * categories.AIR * categories.ANTIAIR} },
            --{ UCBC, 'HaveGreaterThanUnitsWithCategory', { 0, categories.MOBILE * categories.AIR * (categories.BOMBER + categories.GROUNDATTACK) - categories.TECH1} },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 8, 'TRANSPORTFOCUS TECH2, TRANSPORTFOCUS TECH3' } },
            { UCBC, 'HaveLessThanUnitsInCategoryBeingBuilt', { 2, 'TRANSPORTFOCUS' } },
            { IBC, 'BrainNotLowPowerMode', {} },
            { UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, categories.FACTORY * categories.AIR * categories.TECH2 } },
            --{ UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 1, categories.FACTORY * categories.AIR } },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 1, 'FACTORY TECH3' } },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.6, 1.05 }},
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT3 Air Transport',
        PlatoonTemplate = 'T3AirTransport',
        Priority = 2400,
        BuilderConditions = {
            --{ MIBC, 'ArmyNeedsTransports', {} },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            { UCBC, 'HaveGreaterThanUnitsWithCategory', { 0, categories.MOBILE * categories.AIR * categories.ANTIAIR * categories.TECH3} },
            --{ UCBC, 'HaveGreaterThanUnitsWithCategory', { 0, categories.MOBILE * categories.AIR * categories.TECH3 * (categories.BOMBER + categories.GROUNDATTACK)} },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 10, 'TRANSPORTFOCUS TECH2, TRANSPORTFOCUS TECH3' } },
            { UCBC, 'HaveLessThanUnitsInCategoryBeingBuilt', { 2, 'TRANSPORTFOCUS' } },
            { IBC, 'BrainNotLowPowerMode', {} },
            --{ MIBC, 'GreaterThanGameTime', { 2000 } },
            --{ UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 1, categories.FACTORY * categories.AIR } },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.6, 1.05 }},
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT1 Air Transport Default - init',
        PlatoonTemplate = 'T1AirTransport',
        Priority = 1400,
        BuilderConditions = {
            { UCBC, 'UnitsLessAtLocation', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            ----{ MIBC, 'ArmyNeedsTransports', {} },
            { SBC, 'LessThanGameTime', { 600 } },
            --{ UCBC, 'HaveGreaterThanUnitsWithCategory', { 0, categories.SCOUT}},
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            --{ IBC, 'BrainNotLowPowerMode', {} },
            --{ SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.6, 1.05 }},
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT1 Air Transport Default',
        PlatoonTemplate = 'T1AirTransport',
        Priority = 1400,
        BuilderConditions = {
            { UCBC, 'UnitsLessAtLocation', { 'LocationType', 1, 'TRANSPORTFOCUS' } },
            --{ MIBC, 'ArmyNeedsTransports', {} },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            { IBC, 'BrainNotLowPowerMode', {} },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.6, 1.05 }},
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT2 Air Transport Default',
        PlatoonTemplate = 'T2AirTransport',
        Priority = 1900,
        BuilderConditions = {
            { UCBC, 'UnitsLessAtLocation', { 'LocationType', 2, 'TRANSPORTFOCUS TECH2, TRANSPORTFOCUS TECH3' } },
            --{ MIBC, 'ArmyNeedsTransports', {} },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            { IBC, 'BrainNotLowPowerMode', {} },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.6, 1.05 }},
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT3 Air Transport Default',
        PlatoonTemplate = 'T3AirTransport',
        Priority = 2400,
		InstanceCount = 2,
        BuilderConditions = {
            { UCBC, 'UnitsLessAtLocation', { 'LocationType', 2, 'TRANSPORTFOCUS TECH3' } },
            --{ MIBC, 'ArmyNeedsTransports', {} },
            { UCBC, 'LocationFactoriesBuildingLess', { 'LocationType', 2, 'TRANSPORTFOCUS' } },
            { IBC, 'BrainNotLowPowerMode', {} },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.6, 1.05 }},
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT1 Air Transport HighNeed',
        PlatoonTemplate = 'T1AirTransport',
        Priority = 1400,
		InstanceCount = 2,
        BuilderConditions = {
            --{ MIBC, 'TransportNeedGreater', { 7 } },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 4, 'TRANSPORTFOCUS' } },
            { IBC, 'BrainNotLowPowerMode', {} },
            { UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, categories.FACTORY * categories.AIR * categories.TECH1 } },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.6, 1.05 }},
            { UCBC, 'HaveLessThanUnitsInCategoryBeingBuilt', { 2, 'TRANSPORTFOCUS' } },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 1, 'FACTORY TECH2, FACTORY TECH3' } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT2 Air Transport HighNeed',
        PlatoonTemplate = 'T2AirTransport',
        Priority = 1900,
        BuilderConditions = {
            --{ MIBC, 'TransportNeedGreater', { 7 } },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 4, 'TRANSPORTFOCUS' } },
            { IBC, 'BrainNotLowPowerMode', {} },
            { UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, categories.FACTORY * categories.AIR * categories.TECH2 } },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.6, 1.05 }},
            { UCBC, 'HaveLessThanUnitsInCategoryBeingBuilt', { 2, 'TRANSPORTFOCUS' } },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 1, 'FACTORY TECH3' } },
        },
        BuilderType = 'Air',
    },
    Builder {
        BuilderName = 'SorianEditT3 Air Transport HighNeed',
        PlatoonTemplate = 'T3AirTransport',
        Priority = 2400,
        BuilderConditions = {
            --{ MIBC, 'TransportNeedGreater', { 7 } },
            { UCBC, 'HaveLessThanUnitsWithCategory', { 4, 'TRANSPORTFOCUS' } },
            { IBC, 'BrainNotLowPowerMode', {} },
            --{ MIBC, 'GreaterThanGameTime', { 2000 } },
            { SIBC, 'GreaterThanEconEfficiencyOverTime', { 0.6, 1.05 }},
            { UCBC, 'HaveLessThanUnitsInCategoryBeingBuilt', { 2, 'TRANSPORTFOCUS' } },
        },
        BuilderType = 'Air',
    },

}

BuilderGroup {
    BuilderGroupName = 'SorianEditUnitCapAirAttackFormBuilders',
    BuildersType = 'PlatoonFormBuilder',
    Builder {
        BuilderName = 'SorianEditUnit Cap Default Bomber Attack',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 1,
        InstanceCount = 100,
        BuilderType = 'Any',
        BuilderConditions = {
            { UCBC, 'UnitCapCheckGreater', { .95 } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
        BuilderData = {
            SearchRadius = 6000,
            DistressRange = 500,
            PrioritizedCategories = {
                'MASSEXTRACTION',
                'ENERGYPRODUCTION DRAGBUILD',
                'MASSFABRICATION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'COMMAND',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
    },
    Builder {
        BuilderName = 'SorianEditGunshipAttackT1Cap',
        PlatoonTemplate = 'GunshipAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 100,
        InstanceCount = 100,
        BuilderType = 'Any',
        BuilderConditions = {
            { UCBC, 'UnitCapCheckGreater', { .95 } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
        BuilderData = {
            DistressRange = 500,
        },
    },
}


BuilderGroup {
    BuilderGroupName = 'SorianEditFrequentAirAttackFormBuilders',
    BuildersType = 'PlatoonFormBuilder',
    Builder {
        BuilderName = 'SorianEditBomberAttackT1Frequent',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 300,
        InstanceCount = 14,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            DistressRange = 500,
            PrioritizedCategories = {
                'MASSEXTRACTION',
                'ENGINEER',
                'MOBILE LAND',
                'ENERGYPRODUCTION DRAGBUILD',
                'MASSFABRICATION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'COMMAND',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
        BuilderConditions = {
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 2, 'AIR MOBILE BOMBER' } },
            --{ AirAttackCondition, { 'LocationType', 4 } },
            --{ UCBC, 'PoolLessAtLocation', { 'LocationType', 1, 'AIR MOBILE TECH2, MOBILE AIR TECH3' } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditBomberAttackT1ReactionSpam',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 110,
        InstanceCount = 20,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            DistressRange = 500,
            PrioritizedCategories = {
                'MOBILE LAND',
            },
        },
        BuilderConditions = {
            { SBC, 'HaveRatioUnitsWithCategoryAndAlliance', { true, 30, categories.LAND * categories.MOBILE, 'Enemy'}},
        },
    },
    Builder {
        BuilderName = 'SorianEditBomberAttackT1ReactionSpam2',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 110,
        InstanceCount = 20,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            DistressRange = 500,
            PrioritizedCategories = {
                'MOBILE LAND',
            },
        },
        BuilderConditions = {
            { SBC, 'HaveRatioUnitsWithCategoryAndAlliance', { true, 60, categories.LAND * categories.MOBILE, 'Enemy'}},
        },
    },
    Builder {
        BuilderName = 'SorianEditBomberAttackT1Frequent - Anti-Land',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 100,
        InstanceCount = 11,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            DistressRange = 500,
            PrioritizedCategories = {
                'ENGINEER',
                'MOBILE LAND',
                'MASSEXTRACTION',
                'ENERGYPRODUCTION DRAGBUILD',
                'MASSFABRICATION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'COMMAND',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
        BuilderConditions = {
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 2, 'AIR MOBILE BOMBER' } },
            --{ AirAttackCondition, { 'LocationType', 4 } },
            --{ UCBC, 'PoolLessAtLocation', { 'LocationType', 1, 'AIR MOBILE TECH2, MOBILE AIR TECH3' } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditBomberAttackT1Frequent - Anti-Resource',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 101,
        InstanceCount = 13,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            DistressRange = 500,
            PrioritizedCategories = {
                'ENERGYPRODUCTION DRAGBUILD',
                'ENGINEER',
                'MASSEXTRACTION',
                'MOBILE LAND',
                'MASSFABRICATION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'COMMAND',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
        BuilderConditions = {
            --{ UCBC, 'HaveUnitsWithCategoryAndAlliance', { false, 4, categories.MOBILE * categories.AIR - categories.SCOUT - categories.INTELLIGENCE, 'Enemy'}},
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 2, 'AIR MOBILE BOMBER' } },
            --{ AirAttackCondition, { 'LocationType', 4 } },
            --{ UCBC, 'PoolLessAtLocation', { 'LocationType', 1, 'AIR MOBILE TECH2, MOBILE AIR TECH3' } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditBomberAttackT1Frequent - Extra',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 95,
        InstanceCount = 17,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            DistressRange = 500,
            PrioritizedCategories = {
                'MASSEXTRACTION',
                'ENGINEER',
                'MOBILE LAND',
                'ENERGYPRODUCTION DRAGBUILD',
                'MASSFABRICATION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'COMMAND',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
        BuilderConditions = {
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 2, 'AIR MOBILE BOMBER' } },
            --{ AirAttackCondition, { 'LocationType', 4 } },
            --{ UCBC, 'PoolLessAtLocation', { 'LocationType', 1, 'AIR MOBILE TECH2, MOBILE AIR TECH3' } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditGunshipAttackT1Frequent',
        PlatoonTemplate = 'GunshipAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 100,
        InstanceCount = 19,
        BuilderType = 'Any',
        BuilderConditions = {
            { UCBC, 'PoolGreaterAtLocation', { 'LocationType', 1, 'AIR MOBILE GROUNDATTACK TECH1' } },
            --{ AirAttackCondition, { 'LocationType', 4 } },
																										
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
        BuilderData = {
            DistressRange = 500,
        },
    },
    Builder {
        BuilderName = 'SorianEditTorpedo Bombers',
        PlatoonTemplate = 'TorpedoBomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        Priority = 100,
        InstanceCount = 11,
        BuilderConditions = {
            { UCBC, 'PoolGreaterAtLocation', { 'LocationType', 1, 'ANTINAVY AIR MOBILE' } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
        BuilderType = 'Any',
    },
    Builder {
        BuilderName = 'SorianEditBomberAttackT2Frequent',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 400,
        InstanceCount = 11,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            DistressRange = 500,
            PrioritizedCategories = {
                'MASSEXTRACTION',
                'ENGINEER',
                'MOBILE LAND',
                'ENERGYPRODUCTION DRAGBUILD',
                'MASSFABRICATION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'COMMAND',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
        BuilderConditions = {
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 3, 'AIR MOBILE BOMBER' } },
            --{ AirAttackCondition, { 'LocationType', 12 } },
            --{ UCBC, 'PoolLessAtLocation', { 'LocationType', 1, 'AIR MOBILE TECH3' } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditBomberAttackT2Frequent - Anti-Land',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 100,
        InstanceCount = 9,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            DistressRange = 500,
            PrioritizedCategories = {
                'ENGINEER',
                'MOBILE LAND',
                'MASSEXTRACTION',
                'ENERGYPRODUCTION DRAGBUILD',
                'MASSFABRICATION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'COMMAND',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
        BuilderConditions = {
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 3, 'AIR MOBILE BOMBER' } },
            --{ AirAttackCondition, { 'LocationType', 12 } },
            --{ UCBC, 'PoolLessAtLocation', { 'LocationType', 1, 'AIR MOBILE TECH3' } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditBomberAttackT2Frequent - Anti-Resource',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 101,
        InstanceCount = 14,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            DistressRange = 500,
            PrioritizedCategories = {
                'ENERGYPRODUCTION DRAGBUILD',
                'COMMAND',
                'ENGINEER',
                'MASSEXTRACTION',
                'MOBILE LAND',
                'MASSFABRICATION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'COMMAND',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
        BuilderConditions = {
            --{ UCBC, 'HaveUnitsWithCategoryAndAlliance', { false, 4, categories.MOBILE * categories.AIR - categories.SCOUT - categories.INTELLIGENCE, 'Enemy'}},
            { UCBC, 'PoolGreaterAtLocation', { 'LocationType', 1, 'AIR MOBILE BOMBER' } },
            --{ AirAttackCondition, { 'LocationType', 12 } },
            --{ UCBC, 'PoolLessAtLocation', { 'LocationType', 1, 'AIR MOBILE TECH3' } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditBomberAttackT2Frequent - Extra',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 300,
        InstanceCount = 10,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            DistressRange = 500,
            PrioritizedCategories = {
                'MASSEXTRACTION',
                'ENGINEER',
                'MOBILE LAND',
                'ENERGYPRODUCTION DRAGBUILD',
                'MASSFABRICATION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'COMMAND',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
        BuilderConditions = {
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 3, 'AIR MOBILE BOMBER' } },
            --{ AirAttackCondition, { 'LocationType', 12 } },
            --{ UCBC, 'PoolLessAtLocation', { 'LocationType', 1, 'AIR MOBILE TECH3' } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditGunshipAttackT2Frequent',
        PlatoonTemplate = 'GunshipAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 100,
        InstanceCount = 8,
        BuilderType = 'Any',
        BuilderConditions = {
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 4, 'AIR MOBILE GROUNDATTACK' } },
            --{ AirAttackCondition, { 'LocationType', 18 } },
            --{ UCBC, 'PoolLessAtLocation', { 'LocationType', 1, 'AIR MOBILE TECH3' } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
        BuilderData = {
            DistressRange = 500,
        },
    },
    Builder {
        BuilderName = 'SorianEditBomberAttackT3Frequent',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 100,
        InstanceCount = 7,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            DistressRange = 500,
            PrioritizedCategories = {
                'MASSEXTRACTION',
                'ENGINEER',
                'MOBILE LAND',
                'ENERGYPRODUCTION DRAGBUILD',
                'MASSFABRICATION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'COMMAND',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
        BuilderConditions = {
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 5, 'AIR MOBILE BOMBER TECH3' } },
            --{ AirAttackCondition, { 'LocationType', 90 } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditBomberAttackT3Frequent - Anti-Land',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 100,
        InstanceCount = 5,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            DistressRange = 500,
            PrioritizedCategories = {
                'ENGINEER',
                'MOBILE LAND',
                'MASSEXTRACTION',
                'ENERGYPRODUCTION DRAGBUILD',
                'MASSFABRICATION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'COMMAND',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
        BuilderConditions = {
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 5, 'AIR MOBILE BOMBER TECH3' } },
            --{ AirAttackCondition, { 'LocationType', 90 } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditBomberAttackT3Frequent - Anti-Resource',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 101,
        InstanceCount = 7,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            DistressRange = 500,
            PrioritizedCategories = {
                'COMMAND',
                'ENERGYPRODUCTION DRAGBUILD',
                'ENGINEER',
                'MASSEXTRACTION',
                'MOBILE LAND',
                'MASSFABRICATION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'COMMAND',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
        BuilderConditions = {
            { UCBC, 'HaveUnitsWithCategoryAndAlliance', { false, 2, categories.MOBILE * categories.AIR - categories.SCOUT - categories.INTELLIGENCE, 'Enemy'}},
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 5, 'AIR MOBILE BOMBER TECH3' } },
            --{ AirAttackCondition, { 'LocationType', 90 } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditGunshipAttackT3Frequent',
        PlatoonTemplate = 'GunshipAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 100,
        InstanceCount = 14,
        BuilderType = 'Any',
        BuilderConditions = {
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 5, 'AIR MOBILE GROUNDATTACK TECH3' } },
            --{ AirAttackCondition, { 'LocationType', 60 } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
        BuilderData = {
            DistressRange = 500,
        },
    },
}

BuilderGroup {
    BuilderGroupName = 'SorianEditExpResponseFormBuilders',
    BuildersType = 'PlatoonFormBuilder',
    Builder {
        BuilderName = 'SorianEditBomberAttackExpResponse',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle' },
        Priority = 1000,
        InstanceCount = 9,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            PrioritizedCategories = {
                'EXPERIMENTAL LAND',
                'EXPERIMENTAL NAVAL',
                'EXPERIMENTAL STRUCTURE',
                'COMMAND',
                'ENERGYPRODUCTION DRAGBUILD',
                'MASSFABRICATION',
                'MASSEXTRACTION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
        BuilderConditions = {
            --{ UCBC, 'HaveUnitsWithCategoryAndAlliance', { true, 0, 'EXPERIMENTAL LAND, EXPERIMENTAL NAVAL', 'Enemy'}},
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 4, 'AIR MOBILE BOMBER TECH2, AIR MOBILE BOMBER TECH3' } },
            --{ SBC, 'T4ThreatExists', {{'Land', 'Naval', 'Structure'}, (categories.LAND + categories.NAVAL + categories.STRUCTURE + categories.ARTILLERY)}},
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditFighterAttackExpResponse',
        PlatoonTemplate = 'ThreatAirAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle' },
        Priority = 1000,
        InstanceCount = 18,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            PrioritizedCategories = {
                'EXPERIMENTAL AIR',
                'AIR MOBILE BOMBER',
                'AIR MOBILE GROUNDATTACK',
                'AIR MOBILE ANTIAIR',
                'AIR MOBILE ANTINAVY',
                'AIR MOBILE',
            },
        },
        BuilderConditions = {
            --{ UCBC, 'HaveUnitsWithCategoryAndAlliance', { true, 0, 'EXPERIMENTAL AIR', 'Enemy'}},
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 4, 'AIR MOBILE ANTIAIR TECH1, AIR MOBILE ANTIAIR TECH3' } },
            { SBC, 'T4ThreatExists', {{'Air'}, categories.AIR}},
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditBomberAttackThreatResponse',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle' },
        Priority = 1000,
        InstanceCount = 12,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            PrioritizedCategories = {
                'STRUCTURE STRATEGIC EXPERIMENTAL',
                'EXPERIMENTAL ARTILLERY OVERLAYINDIRECTFIRE',
                'EXPERIMENTAL ORBITALSYSTEM',
                'STRUCTURE STRATEGIC TECH3',
                'COMMAND',
                'ENERGYPRODUCTION DRAGBUILD',
                'MASSFABRICATION',
                'MASSEXTRACTION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
        BuilderConditions = {
            --{ UCBC, 'HaveUnitsWithCategoryAndAlliance', { true, 0, 'STRUCTURE STRATEGIC TECH3, STRUCTURE STRATEGIC EXPERIMENTAL, EXPERIMENTAL ARTILLERY OVERLAYINDIRECTFIRE, EXPERIMENTAL ORBITALSYSTEM', 'Enemy'}},
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 4, 'AIR MOBILE BOMBER TECH2, AIR MOBILE BOMBER TECH3' } },
            --{ AirAttackCondition, { 'LocationType', 90 } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditT2/T3 Bomber Attack Weak Enemy Response',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle' },
        Priority = 995,
        InstanceCount = 9,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            PrioritizedCategories = {
                'EXPERIMENTAL ENERGYPRODUCTION STRUCTURE',
                'STRUCTURE STRATEGIC EXPERIMENTAL',
                'EXPERIMENTAL ARTILLERY OVERLAYINDIRECTFIRE',
                'EXPERIMENTAL ORBITALSYSTEM',
                'STRUCTURE STRATEGIC TECH3',
                'ENERGYPRODUCTION DRAGBUILD',
                'COMMAND',
                'ENGINEER',
                'MASSEXTRACTION',
                'MOBILE LAND',
                'MASSFABRICATION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'COMMAND',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
        BuilderConditions = {
            --{ SBC, 'PoolThreatGreaterThanEnemyBase', {'LocationType', categories.MOBILE * categories.AIR - categories.SCOUT - categories.INTELLIGENCE, 'AntiAir', 'AntiSurface', 1}},
            --{ UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, 'FACTORY TECH2 AIR, FACTORY TECH3 AIR' }},
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 5, 'AIR MOBILE BOMBER TECH2, AIR MOBILE BOMBER TECH3' } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditT1 Bomber Attack Weak Enemy Response',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle' },
        Priority = 995,
        InstanceCount = 7,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            PrioritizedCategories = {
                'EXPERIMENTAL ENERGYPRODUCTION STRUCTURE',
                'STRUCTURE STRATEGIC EXPERIMENTAL',
                'EXPERIMENTAL ARTILLERY OVERLAYINDIRECTFIRE',
                'EXPERIMENTAL ORBITALSYSTEM',
                'STRUCTURE STRATEGIC TECH3',
                'ENERGYPRODUCTION DRAGBUILD',
                'ENGINEER',
                'MASSEXTRACTION',
                'MOBILE LAND',
                'MASSFABRICATION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'COMMAND',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
        BuilderConditions = {
            --{ SBC, 'PoolThreatGreaterThanEnemyBase', {'LocationType', categories.MOBILE * categories.AIR - categories.SCOUT - categories.INTELLIGENCE, 'AntiAir', 'AntiSurface', 1}},
            --{ UCBC, 'FactoryLessAtLocation', { 'LocationType', 1, 'FACTORY TECH2 AIR, FACTORY TECH3 AIR' }},
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 3, 'AIR MOBILE BOMBER TECH1' } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditT2/T3 GunShip Attack Weak Enemy Response',
        PlatoonTemplate = 'GunshipSFSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle' },
        Priority = 995,
        InstanceCount = 3,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            PrioritizedCategories = {
                'EXPERIMENTAL ENERGYPRODUCTION STRUCTURE',
                'STRUCTURE STRATEGIC EXPERIMENTAL',
                'EXPERIMENTAL ARTILLERY OVERLAYINDIRECTFIRE',
                'EXPERIMENTAL ORBITALSYSTEM',
                'STRUCTURE STRATEGIC TECH3',
                'ENERGYPRODUCTION DRAGBUILD',
                'COMMAND',
                'ENGINEER',
                'MASSEXTRACTION',
                'MOBILE LAND',
                'MASSFABRICATION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'COMMAND',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
        BuilderConditions = {
            --{ SBC, 'PoolThreatGreaterThanEnemyBase', {'LocationType', categories.MOBILE * categories.AIR - categories.SCOUT - categories.INTELLIGENCE, 'AntiAir', 'AntiSurface', 1}},
            { UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, 'FACTORY TECH2 AIR, FACTORY TECH3 AIR' }},
            { UCBC, 'PoolGreaterAtLocation', { 'LocationType', 5, 'AIR MOBILE GROUNDATTACK TECH2, AIR MOBILE GROUNDATTACK TECH3' } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditT1 GunShip Attack Weak Enemy Response',
        PlatoonTemplate = 'GunshipSFSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle' },
        Priority = 995,
        InstanceCount = 8,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            PrioritizedCategories = {
                'EXPERIMENTAL ENERGYPRODUCTION STRUCTURE',
                'STRUCTURE STRATEGIC EXPERIMENTAL',
                'EXPERIMENTAL ARTILLERY OVERLAYINDIRECTFIRE',
                'EXPERIMENTAL ORBITALSYSTEM',
                'STRUCTURE STRATEGIC TECH3',
                'ENERGYPRODUCTION DRAGBUILD',
                'ENGINEER',
                'MASSEXTRACTION',
                'MOBILE LAND',
                'MASSFABRICATION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'COMMAND',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
        BuilderConditions = {
            --{ SBC, 'PoolThreatGreaterThanEnemyBase', {'LocationType', categories.MOBILE * categories.AIR - categories.SCOUT - categories.INTELLIGENCE, 'AntiAir', 'AntiSurface', 1}},
            { UCBC, 'FactoryLessAtLocation', { 'LocationType', 1, 'FACTORY TECH2 AIR, FACTORY TECH3 AIR' }},
            { UCBC, 'PoolGreaterAtLocation', { 'LocationType', 3, 'AIR MOBILE GROUNDATTACK TECH1' } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditT1 Air Attack Threat',
        PlatoonTemplate = 'ThreatAirAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle' },
        Priority = 200,
        InstanceCount = 2,
        BuilderType = 'Any',
        BuilderData = {
            ThreatThreshold = 100,
        },
        BuilderConditions = {
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 2, 'AIR MOBILE BOMBER' } },
            --{ AirAttackCondition, { 'LocationType', 4 } },
            --{ UCBC, 'PoolLessAtLocation', { 'LocationType', 1, 'AIR MOBILE TECH2, MOBILE AIR TECH3' } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
            { SIBC, 'AIThreatExists', { 100 } },
        },
    },
    Builder {
        BuilderName = 'SorianEditT2 Air Attack Threat',
        PlatoonTemplate = 'ThreatAirAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle' },
        Priority = 200,
        InstanceCount = 2,
        BuilderType = 'Any',
        BuilderData = {
            ThreatThreshold = 100,
        },
        BuilderConditions = {
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 2, 'AIR MOBILE BOMBER' } },
            --{ AirAttackCondition, { 'LocationType', 12 } },
            --{ UCBC, 'PoolLessAtLocation', { 'LocationType', 1, 'AIR MOBILE TECH3' } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
            { SIBC, 'AIThreatExists', { 100 } },
        },
    },
    Builder {
        BuilderName = 'SorianEditT3 Air Attack Threat',
        PlatoonTemplate = 'ThreatAirAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle' },
        Priority = 200,
        InstanceCount = 2,
        BuilderType = 'Any',
        BuilderData = {
            ThreatThreshold = 100,
        },
        BuilderConditions = {
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 2, 'AIR MOBILE BOMBER' } },
            --{ AirAttackCondition, { 'LocationType', 90 } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
            { SIBC, 'AIThreatExists', { 100 } },
        },
    },
}

BuilderGroup {
    BuilderGroupName = 'SorianEditAntiNavyAirFormBuilders',
    BuildersType = 'PlatoonFormBuilder',
    Builder {
        BuilderName = 'SorianEditT2/T3 GunShip Attack Anti Navy',
        PlatoonTemplate = 'GunshipSFSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle' },
        Priority = 105,
        InstanceCount = 3,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            PrioritizedCategories = {
                'STRUCTURE DEFENSE ANTINAVY',
                'STRUCTURE NAVAL',
                'MOBILE NAVAL',
            },
        },
        BuilderConditions = {
            { UCBC, 'FactoryGreaterAtLocation', { 'LocationType', 0, 'FACTORY TECH2 AIR, FACTORY TECH3 AIR' }},
            { UCBC, 'PoolGreaterAtLocation', { 'LocationType', 5, 'AIR MOBILE GROUNDATTACK TECH2, AIR MOBILE GROUNDATTACK TECH3' } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
}

BuilderGroup {
    BuilderGroupName = 'SorianEditMassHunterAirFormBuilders',
    BuildersType = 'PlatoonFormBuilder',
    Builder {
        BuilderName = 'SorianEditBomberAttack Mass Hunter',
        PlatoonTemplate = 'BomberAttackSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        Priority = 100,
        InstanceCount = 3,
        BuilderType = 'Any',
        BuilderData = {
            SearchRadius = 6000,
            DistressRange = 500,
            PrioritizedCategories = {
                'MASSEXTRACTION',
                'ENGINEER',
                'ENERGYPRODUCTION DRAGBUILD',
                'MOBILE LAND',
                'MASSFABRICATION',
                'SHIELD',
                'ANTIAIR STRUCTURE',
                'DEFENSE STRUCTURE',
                'STRUCTURE',
                'COMMAND',
                'MOBILE ANTIAIR',
                'ALLUNITS',
            },
        },
        BuilderConditions = {
            --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 3, 'AIR MOBILE BOMBER' } },
            --{ AirAttackCondition, { 'LocationType', 6 } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditMass Hunter Gunships',
        PlatoonTemplate = 'GunshipMassHunterSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle', 'DistressResponseAISorian' },
        -- Commented out as the platoon doesn't exist in AILandAttackBuilders.lua
        --PlatoonTemplate = 'EarlyGameMassHuntersCategory',
        Priority = 950,
        InstanceCount = 2,
        BuilderConditions = {
                --{ SBC, 'LessThanGameTime', { 600 } },      
                { UCBC, 'HaveLessThanUnitsWithCategory', { 1, categories.TECH2 * categories.MOBILE * categories.LAND - categories.ENGINEER } },
                --{ UCBC, 'PoolGreaterAtLocation', { 'LocationType', 3, 'AIR MOBILE GROUNDATTACK' } },
                --{ AirAttackCondition, { 'LocationType', 6 } },
                --{ SBC, 'NoRushTimeCheck', { 0 }},
            },
        BuilderData = {
            MarkerType = 'Mass',
            MoveFirst = 'Random',
            MoveNext = 'Guard Base',
            ThreatType = 'Economy', 		    -- Type of threat to use for gauging attacks
            FindHighestThreat = false, 		-- Don't find high threat targets
            MaxThreatThreshold = 2900, 		-- If threat is higher than this, do not attack
            MinThreatThreshold = -20, 		-- If threat is lower than this, do not attack
            AvoidBases = false,

            AvoidBasesRadius = 75,
            AggressiveMove = false,
            AvoidClosestRadius = 50,
            GuardRadius = 200,
            DistressRange = 500,
        },
						  
        BuilderType = 'Any',
    },
}

BuilderGroup {
    BuilderGroupName = 'SorianEditBaseGuardAirFormBuilders',
    BuildersType = 'PlatoonFormBuilder',
    Builder {
        BuilderName = 'SorianEditAntiAirHunt',
        PlatoonTemplate = 'AntiAirHuntSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle' },
        Priority = 1,
        InstanceCount = 30,
        BuilderType = 'Any',
        BuilderData = {
            Location = 'LocationType',
            NeverGuardEngineers = true,
        },
        BuilderConditions = {
            { UCBC, 'PoolGreaterAtLocation', { 'LocationType', 1, categories.AIR * categories.MOBILE * categories.ANTIAIR * (categories.TECH1 + categories.TECH2 + categories.TECH3) - categories.BOMBER - categories.TRANSPORTFOCUS - categories.EXPERIMENTAL } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditAntiAirBaseGuard',
        PlatoonTemplate = 'AntiAirBaseGuardSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle' },
        Priority = 700, --1,
        InstanceCount = 15,
        BuilderType = 'Any',
        BuilderData = {
            LocationType = 'LocationType',
            NeverGuardEngineers = true,
        },
        BuilderConditions = {
            { UCBC, 'PoolGreaterAtLocation', { 'LocationType', 1, categories.AIR * categories.MOBILE * categories.ANTIAIR * (categories.TECH1 + categories.TECH2 + categories.TECH3) - categories.BOMBER - categories.TRANSPORTFOCUS - categories.EXPERIMENTAL } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditAntiAirHunt - Extra',
        PlatoonTemplate = 'AntiAirHuntSorianEdit',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle' },
        Priority = 1,
        InstanceCount = 100,
        BuilderType = 'Any',
        BuilderData = {
            Location = 'LocationType',
            NeverGuardEngineers = true,
        },
        BuilderConditions = {
            { UCBC, 'PoolGreaterAtLocation', { 'LocationType', 1, categories.AIR * categories.MOBILE * categories.ANTIAIR * (categories.TECH1 + categories.TECH2 + categories.TECH3) - categories.BOMBER - categories.TRANSPORTFOCUS - categories.EXPERIMENTAL } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditAntiAirT4Guard',
        PlatoonTemplate = 'AntiAirT4Guard',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle' },
        Priority = 1,
        InstanceCount = 10,
        BuilderData = {
            NeverGuardEngineers = true,
        },
        BuilderType = 'Any',
        BuilderConditions = {
            { UCBC, 'PoolGreaterAtLocation', { 'LocationType', 2, categories.AIR * categories.MOBILE * (categories.TECH1 + categories.TECH2 + categories.TECH3) * categories.ANTIAIR } },
            { UCBC, 'HaveGreaterThanUnitsWithCategory', { 0, categories.EXPERIMENTAL * categories.AIR}},
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
    Builder {
        BuilderName = 'SorianEditGunshipBaseGuard',
        PlatoonTemplate = 'GunshipBaseGuard',
        PlatoonAddBehaviors = { 'AirUnitRefitSorian' },
        --PlatoonAddPlans = { 'AirIntelToggle' },
        Priority = 700, --10
						  
        BuilderType = 'Any',
        BuilderData = {
            NeverGuardEngineers = true,
        },
        BuilderConditions = {
            { UCBC, 'PoolGreaterAtLocation', { 'LocationType', 2, categories.AIR * categories.MOBILE * (categories.TECH1 + categories.TECH2) * categories.GROUNDATTACK } },
            --{ SBC, 'NoRushTimeCheck', { 0 }},
        },
    },
}

BuilderGroup {
    BuilderGroupName = 'SorianEditACUHunterAirFormBuilders',
    BuildersType = 'PlatoonFormBuilder',
}
